#pragma checksum "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "13868976c841d3105b3a1103ae0ce9c73db9b06b"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Shared_PartialViews_ActionPricePartial), @"mvc.1.0.view", @"/Views/Shared/PartialViews/ActionPricePartial.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Shared/PartialViews/ActionPricePartial.cshtml", typeof(AspNetCore.Views_Shared_PartialViews_ActionPricePartial))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\_ViewImports.cshtml"
using Test_CSN_ENERGY;

#line default
#line hidden
#line 2 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\_ViewImports.cshtml"
using Test_CSN_ENERGY.Models;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"13868976c841d3105b3a1103ae0ce9c73db9b06b", @"/Views/Shared/PartialViews/ActionPricePartial.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"f4eab0879420ee741af8b6ecb0992f7ca049610b", @"/Views/_ViewImports.cshtml")]
    public class Views_Shared_PartialViews_ActionPricePartial : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<Test_CSN_ENERGY.Models.CatalogBooksViewModel>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(53, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 3 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
  
    ViewData["Title"] = "CSN ENERGY TEST";

#line default
#line hidden
            BeginContext(106, 137, true);
            WriteLiteral("\r\n<div class=\"col-sm-6 col-sm-offset-2\">\r\n    <h1>Price</h1>\r\n\r\n    <div class=\"panel panel-default\">\r\n        <div class=\"panel-body\">\r\n");
            EndContext();
#line 12 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
             using (Html.BeginForm("Basket", "Home", FormMethod.Post, new { role = "form" }))
            {
                

#line default
#line hidden
            BeginContext(407, 62, true);
            WriteLiteral("                <div class=\"form-group\">\r\n                    ");
            EndContext();
            BeginContext(470, 39, false);
#line 16 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
               Write(Html.LabelFor(m => m.SelectedBookNames));

#line default
#line hidden
            EndContext();
            BeginContext(509, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            BeginContext(722, 20, true);
            WriteLiteral("                    ");
            EndContext();
            BeginContext(743, 284, false);
#line 18 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
               Write(Html.DropDownList("selectBooks", new SelectList(Model.Catalog.Select(x => new { Value = x.Name, Text = $"{x.Category.Trim()} - {x.Name.Trim()}", Price = x.Price }), "Value", "Text"), new { @onclick = "listebook_OnClick(this)", @class = "form-control", size = 6, multiple = "simple" }));

#line default
#line hidden
            EndContext();
            BeginContext(1027, 28, true);
            WriteLiteral("\r\n\r\n                </div>\r\n");
            EndContext();
            BeginContext(1057, 99, true);
            WriteLiteral("                <div class=\"form-group\" style=\"font-size: 12px;height: 230px; overflow-y: auto;\">\r\n");
            EndContext();
#line 23 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                     if (Model.Catalog.Count() > 0)
                    {

#line default
#line hidden
            BeginContext(1232, 204, true);
            WriteLiteral("                        <table class=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>\r\n                                        ");
            EndContext();
            BeginContext(1437, 60, false);
#line 29 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                                   Write(Html.DisplayNameFor(model => model.Catalog.First().Category));

#line default
#line hidden
            EndContext();
            BeginContext(1497, 127, true);
            WriteLiteral("\r\n                                    </th>\r\n                                    <th>\r\n                                        ");
            EndContext();
            BeginContext(1625, 56, false);
#line 32 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                                   Write(Html.DisplayNameFor(model => model.Catalog.First().Name));

#line default
#line hidden
            EndContext();
            BeginContext(1681, 127, true);
            WriteLiteral("\r\n                                    </th>\r\n                                    <th>\r\n                                        ");
            EndContext();
            BeginContext(1809, 60, false);
#line 35 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                                   Write(Html.DisplayNameFor(model => model.Catalog.First().Quantity));

#line default
#line hidden
            EndContext();
            BeginContext(1869, 127, true);
            WriteLiteral("\r\n                                    </th>\r\n                                    <th>\r\n                                        ");
            EndContext();
            BeginContext(1997, 57, false);
#line 38 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                                   Write(Html.DisplayNameFor(model => model.Catalog.First().Price));

#line default
#line hidden
            EndContext();
            BeginContext(2054, 336, true);
            WriteLiteral(@"
                                    </th>
                                    <th>
                                        Qt.
                                    </th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
");
            EndContext();
#line 47 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                                  
                                    var index = 0;
                                

#line default
#line hidden
            BeginContext(2513, 32, true);
            WriteLiteral("                                ");
            EndContext();
#line 50 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                                 foreach (var item in Model.Catalog)
                                {
                                    var idx = "index" + index++;

#line default
#line hidden
            BeginContext(2684, 164, true);
            WriteLiteral("                                    <tr>\r\n                                        <td style=\"vertical-align: middle;\">\r\n                                            ");
            EndContext();
            BeginContext(2849, 43, false);
#line 55 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                                       Write(Html.DisplayFor(modelItem => item.Category));

#line default
#line hidden
            EndContext();
            BeginContext(2892, 171, true);
            WriteLiteral("\r\n                                        </td>\r\n                                        <td style=\"vertical-align: middle;\">\r\n                                            ");
            EndContext();
            BeginContext(3064, 39, false);
#line 58 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                                       Write(Html.DisplayFor(modelItem => item.Name));

#line default
#line hidden
            EndContext();
            BeginContext(3103, 171, true);
            WriteLiteral("\r\n                                        </td>\r\n                                        <td style=\"vertical-align: middle;\">\r\n                                            ");
            EndContext();
            BeginContext(3275, 43, false);
#line 61 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                                       Write(Html.DisplayFor(modelItem => item.Quantity));

#line default
#line hidden
            EndContext();
            BeginContext(3318, 171, true);
            WriteLiteral("\r\n                                        </td>\r\n                                        <td style=\"vertical-align: middle;\">\r\n                                            ");
            EndContext();
            BeginContext(3490, 40, false);
#line 64 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                                       Write(Html.DisplayFor(modelItem => item.Price));

#line default
#line hidden
            EndContext();
            BeginContext(3530, 92, true);
            WriteLiteral("\r\n                                        </td>\r\n                                        <td");
            EndContext();
            BeginWriteAttribute("id", " id=\"", 3622, "\"", 3631, 1);
#line 66 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
WriteAttributeValue("", 3627, idx, 3627, 4, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3632, 474, true);
            WriteLiteral(@" style=""vertical-align: middle; font-size: 12px; font-weight: bold;"">0</td>
                                        <td style=""vertical-align: middle;"">
                                            <div class=""form-group"" style=""margin-bottom: 0;"">
                                                <input class=""btn btn-danger"" style=""font-size: 12px; font-weight: bold; width: 70px; padding-top: 2px; padding-bottom: 2px; margin-bottom: 5px;"" type=""button"" value=""Retirer""");
            EndContext();
            BeginWriteAttribute("onclick", " onclick=\"", 4106, "\"", 4149, 6);
            WriteAttributeValue("", 4116, "numberMoins(\'", 4116, 13, true);
#line 69 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
WriteAttributeValue("", 4129, idx, 4129, 4, false);

#line default
#line hidden
            WriteAttributeValue("", 4133, "\',", 4133, 2, true);
            WriteAttributeValue(" ", 4135, "\'", 4136, 2, true);
#line 69 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
WriteAttributeValue("", 4137, item.Name, 4137, 10, false);

#line default
#line hidden
            WriteAttributeValue("", 4147, "\')", 4147, 2, true);
            EndWriteAttribute();
            BeginContext(4150, 229, true);
            WriteLiteral(" />\r\n                                                <input class=\"btn btn-success\" style=\"font-size: 12px; font-weight: bold; width: 70px; padding-top: 2px; padding-bottom: 2px; margin-bottom: 1px;\" type=\"button\" value=\"Ajouter\"");
            EndContext();
            BeginWriteAttribute("onclick", " onclick=\"", 4379, "\"", 4421, 6);
            WriteAttributeValue("", 4389, "numberPlus(\'", 4389, 12, true);
#line 70 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
WriteAttributeValue("", 4401, idx, 4401, 4, false);

#line default
#line hidden
            WriteAttributeValue("", 4405, "\',", 4405, 2, true);
            WriteAttributeValue(" ", 4407, "\'", 4408, 2, true);
#line 70 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
WriteAttributeValue("", 4409, item.Name, 4409, 10, false);

#line default
#line hidden
            WriteAttributeValue("", 4419, "\')", 4419, 2, true);
            EndWriteAttribute();
            BeginContext(4422, 147, true);
            WriteLiteral(" />\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n");
            EndContext();
#line 74 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                                }

#line default
#line hidden
            BeginContext(4604, 72, true);
            WriteLiteral("                            </tbody>\r\n                        </table>\r\n");
            EndContext();
#line 77 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                    }

#line default
#line hidden
            BeginContext(4699, 26, true);
            WriteLiteral("\r\n                </div>\r\n");
            EndContext();
            BeginContext(4727, 41, true);
            WriteLiteral("                <p>\r\n                    ");
            EndContext();
            BeginContext(4769, 180, false);
#line 82 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
               Write(Html.TextArea("SelectedBookNames", "", 4, 45, new { onchange = "selectedBookName_Change()", placeholder = "La sélection...", @class = "form-control", style = "font-size: small;" }));

#line default
#line hidden
            EndContext();
            BeginContext(4949, 111, true);
            WriteLiteral("\r\n                </p>\r\n                <button type=\"submit\" class=\"btn btn-primary\" style=\"\">Price</button>\r\n");
            EndContext();
#line 85 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
            }

#line default
#line hidden
            BeginContext(5075, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 87 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
             if (Model.Price > -1)
            {
                var colorAlert = "alert-success";
                var style = "padding: 0; margin-top: 10px; margin-bottom: 10px; line-height: 0;";

                

#line default
#line hidden
#line 92 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                 if (Model.Price == 0)
                {
                    colorAlert = "alert-danger";
                }

#line default
#line hidden
            BeginContext(5410, 20, true);
            WriteLiteral("                <div");
            EndContext();
            BeginWriteAttribute("class", " class=\"", 5430, "\"", 5478, 4);
            WriteAttributeValue("", 5438, "text-left", 5438, 9, true);
            WriteAttributeValue(" ", 5447, "text-sm-left", 5448, 13, true);
            WriteAttributeValue(" ", 5460, "alert", 5461, 6, true);
#line 97 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
WriteAttributeValue(" ", 5466, colorAlert, 5467, 11, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginWriteAttribute("style", " style=\"", 5479, "\"", 5493, 1);
#line 97 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
WriteAttributeValue("", 5487, style, 5487, 6, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(5494, 26, true);
            WriteLiteral(">\r\n                    <p>");
            EndContext();
            BeginContext(5521, 65, false);
#line 98 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
                  Write(await Html.PartialAsync("PartialViews/ResultPricePartial", Model));

#line default
#line hidden
            EndContext();
            BeginContext(5586, 30, true);
            WriteLiteral("</p>\r\n                </div>\r\n");
            EndContext();
#line 100 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"

                Model.SelectedBookNames = new string[0];


#line default
#line hidden
            BeginContext(5678, 318, true);
            WriteLiteral(@"                <script type=""text/javascript"">
                    function erase() {
                        //alert('erase');
                        arrBookSelected = [];
                        $(""#SelectedBookNames"").val('');
                    };
                    erase();
                </script>
");
            EndContext();
#line 111 "F:\Sources NET\Espace de travail\CSN ENERGY\InterfaceWeb\Views\Shared\PartialViews\ActionPricePartial.cshtml"
            }

#line default
#line hidden
            BeginContext(6011, 2143, true);
            WriteLiteral(@"        </div>
    </div>
</div>

<script type=""text/javascript"">
    var arrBookSelected = [];

    /**
     * Ajout dans le tableau la sélection faite dans la combo
     * */
    function listebook_OnClick(ddlObject) {

        //Selected value de la dropdownlist
        var selectedValue = $(ddlObject).val();
        //Selected text de la dropdownlist
        var selectedText = $(ddlObject).children(""option:selected"").html();

        arrBookSelected.push(selectedValue);
        $(""#SelectedBookNames"").val(arrBookSelected.join(', '));
        //permettra de faire x sélection consécutif
        $('#selectBooks').val(null);
    };

    /**
     * redéfinition du tableau si suppression manuel dans le textbox
     * */
    function selectedBookName_Change() {
        val = $(""#SelectedBookNames"").val();
        arrBookSelected = val !== """" ? $(""#SelectedBookNames"").val().split("", "") : [];
    };

    function numberPlus(idCount, bookName) {
        var idxCount = parseInt($('#' ");
            WriteLiteral(@"+ idCount).html());
        idxCount++;
        $('#' + idCount).html(idxCount);

        redefineArrayBooks(bookName, idxCount);
    };

    function numberMoins(idCount, bookName) {
        var idxCount = parseInt($('#' + idCount).html());

        if (idxCount <= 0)
            idxCount = 1;

        idxCount--;
        $('#' + idCount).html(idxCount);

        redefineArrayBooks(bookName, idxCount);
    };

    /**
     * Permet de redéfinir la liste des livres sélectionnés dans le modèle utilisé
     * bookName : le titre du livre
     * count : nombre du titre
     */
    function redefineArrayBooks(bookName, count) {
        val = $(""#SelectedBookNames"").val();
        arrBookSelected = val !== """" ? val.split("", "") : [];

        arrBookSelected = $.grep(arrBookSelected, function (e) {
            return e != bookName;
        });

        if (count > 0) {
            for (var i = 0; i < count; i++) {
                arrBookSelected.push(bookName);
            }
    ");
            WriteLiteral("    }\r\n\r\n        $(\"#SelectedBookNames\").val(arrBookSelected.join(\', \'));\r\n    }\r\n\r\n</script>\r\n");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Test_CSN_ENERGY.Models.CatalogBooksViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
